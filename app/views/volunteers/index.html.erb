<p style="color: green"><%= notice %></p>

<% content_for :title, "Volunteers" %>

<div style="padding: 20px; max-width: 1200px; margin: 0 auto;">
  <h1>Volunteers</h1>

  <% if @volunteers.any? %>
    <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
      <thead style="background-color: #f5f5f5; border-bottom: 2px solid #ddd;">
        <tr>
          <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Name</th>
          <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Username</th>
          <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Email</th>
          <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Phone</th>
          <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Total Hours</th>
          <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Pending Assignments</th>
          <th style="padding: 12px; text-align: left; border: 1px solid #ddd;">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @volunteers.each do |volunteer| %>
          <tr style="border-bottom: 1px solid #ddd;">
            <td style="padding: 12px; border: 1px solid #ddd;">
              <strong><%= volunteer.full_name %></strong>
            </td>
            <td style="padding: 12px; border: 1px solid #ddd;">
              <%= volunteer.username %>
            </td>
            <td style="padding: 12px; border: 1px solid #ddd;">
              <%= volunteer.email %>
            </td>
            <td style="padding: 12px; border: 1px solid #ddd;">
              <%= volunteer.phone || "N/A" %>
            </td>
            <td style="padding: 12px; border: 1px solid #ddd;">
              <%= volunteer.total_hours %> hrs
            </td>
            <td style="padding: 12px; border: 1px solid #ddd;">
              <% pending_count = volunteer.volunteer_assignments.where(status: 'pending').count %>
              <% if pending_count > 0 %>
                <span style="background-color: #ffc107; color: white; padding: 2px 8px; border-radius: 3px;">
                  <%= pending_count %> pending
                </span>
              <% else %>
                <span style="color: #666;">None</span>
              <% end %>
            </td>
            <td style="padding: 12px; border: 1px solid #ddd;">
              <%= link_to "View Profile", volunteer, style: "color: #007bff; text-decoration: none;" %>
              <% if admin_signed_in? %>
                | <%= button_to "Delete", volunteer, method: :delete, data: { confirm: "Are you sure?" }, style: "display: inline; color: #dc3545; background: none; border: none; cursor: pointer; text-decoration: underline;" %>
              <% end %>
            </td>
          </tr>
        <% end %>
      </tbody>
    </table>
  <% else %>
    <p style="margin-top: 20px; color: #666;">No volunteers registered yet.</p>
  <% end %>

  <div style="margin-top: 20px;">
    <%= link_to "New volunteer", new_volunteer_path, style: "padding: 8px 16px; background-color: #28a745; color: white; text-decoration: none; border-radius: 5px; display: inline-block;" %>
    <%= link_to "â† Back to Admin", admin_path, style: "padding: 8px 16px; background-color: #6c757d; color: white; text-decoration: none; border-radius: 5px; display: inline-block; margin-left: 10px;" %>
  </div>
</div>
