<div id="<%= dom_id event %>">
  <div>
    <strong>Title:</strong>
    <%= event.title %>
  </div>

  <div>
    <strong>Description:</strong>
    <%= event.description %>
  </div>

  <div>
    <strong>Location:</strong>
    <%= event.location %>
  </div>

  <div>
    <strong>Event date:</strong>
    <%= event.event_date %>
  </div>

  <div>
    <strong>Start time:</strong>
    <%= event.start_time %>
  </div>

  <div>
    <strong>End time:</strong>
    <%= event.end_time %>
  </div>

  <div>
    <strong>Required volunteers:</strong>
    <%= event.required_volunteers %>
  </div>

  <div>
    <strong>Assigned volunteers (approved):</strong>
    <%= event.approved_assignments_count %>
  </div>

  <div>
    <strong>Status:</strong>
    <%= event.status %>
  </div>

  <% if defined?(current_volunteer) && current_volunteer %>
    <% assignment = current_volunteer.volunteer_assignments.find_by(event: event) %>
    <div>
      <% if assignment %>
        <em>Your status:</em> <%= assignment.status %>
        <% if assignment.status != 'completed' %>
          <%= button_to 'Withdraw', volunteer_assignment_path(assignment), method: :delete %>
        <% end %>
      <% elsif event.open? && event.slots_available? %>
        <%= form_with url: volunteer_assignments_path, local: true do |f| %>
          <%= hidden_field_tag 'volunteer_assignment[event_id]', event.id %>
          <%= f.submit 'Sign up' %>
        <% end %>
      <% end %>
    </div>
  <% end %>
</div>
